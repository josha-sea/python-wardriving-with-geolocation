# Create parent table: wifi
CREATE TABLE IF NOT EXISTS wifi ( id INTEGER PRIMARY KEY AUTOINCREMENT, bssid TEXT UNIQUE NOT NULL, ssid TEXT, frequency INTEGER);

# Create child tabel with foreign key: signal
CREATE TABLE IF NOT EXISTS signal (id INTEGER PRIMARY KEY AUTOINCREMENT, signal INTEGER, location TEXT DEFAULT "Wien", time TEXT, wifi_id INTEGER, FOREIGN KEY (wifi_id) REFERENCES wifi (id));

# Insert into wifi-table
INSERT INTO wifi (bssid, ssid) VALUES ("mac1", "upc1"), ("mac2", "upc2");

# Insert into signal-table with built-in sqlite datetime-function: datetime('now')
INSERT INTO signal (signal, location, time, wifi_id) VALUES (-70, "Wien", datetime('now'), 2);

# To get id of last inserted row (to use as reference for foreign key in child-table)
 with conn:
	max = conn.execute("SELECT MAX(id) FROM wifi").fetchone()